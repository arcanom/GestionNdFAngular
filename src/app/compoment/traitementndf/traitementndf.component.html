<div class="container">
  <div class="card navigation">
    <nav class="navbar ">
        <div class="buttonrange d-flex justify-content-around">
          <div>
            <button class="btn btn-success button" routerLink="/inscription-employee"> Inscrire employée</button>
          </div>
          <div class="spacing">
            <button class="btn btn-success button" routerLink="/formulaire-ndf"> Créer notes de frais </button>
          </div>
          <div  class="spacing">
            <button class="btn btn-primary button" routerLink="/mesndf"> Mes notes de frais </button>
          </div>
          <div class="spacing">
            <button class="btn btn-primary button" routerLink="/historique"> Historique notes de frais </button>
          </div>
          <div class="spacing">
            <button class="btn btn-danger button" (click)="deconnect()"> Deconnexion</button>
          </div>
        </div>

    </nav>

  </div>
  <div class="mt-4">
    <h2>Mes notes de frais non validés</h2>
    <div>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Titre</th>
            <th scope="col">Date</th>
            <th scope="col">Montant</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
        <tr  *ngFor="let ndf of ndfs">
          <th *ngIf="ndf.status=='INPROGRESS'">{{ndf.title}}</th>
          <th *ngIf="ndf.status=='INPROGRESS'">{{ndf.date | date }}</th>
          <th *ngIf="ndf.status=='INPROGRESS'">{{ndf.amount}}</th>
          <th *ngIf="ndf.status=='INPROGRESS'"> <button class="btn btn-primary ms-3" [routerLink]="['/details',ndf.id]">Details</button>
            <button class="btn btn-success ms-3" (click)="updateStatusToValidated(ndf.id)">Valider</button>
            <button class="btn btn-danger ms-3"(click)="updateStatusToRefused(ndf.id)" >Refuser</button></th>

        </tr>

        </tbody>
      </table>
    </div>
    <h2>Les notes de frais à payer</h2>
    <div>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Titre</th>
            <th scope="col">Date</th>
            <th scope="col">Montant</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody>
            <tr scope="row" *ngFor="let ndf of ndfs">
              <th *ngIf="ndf.status=='VALIDATED'">{{ndf.title}}</th>
              <th *ngIf="ndf.status=='VALIDATED'">{{ndf.date | date }}</th>
              <th *ngIf="ndf.status=='VALIDATED'">{{ndf.amount}}</th>
              <th *ngIf="ndf.status=='VALIDATED'"> <button class="btn btn-primary ms-3" [routerLink]="['/details',ndf.id]">Details</button>  <button class="btn btn-warning ms-3 " (click)="updateStatusToPaid(ndf.id)" >Payer</button>
            </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
